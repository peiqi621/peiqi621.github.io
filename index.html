<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Couple Moment · Tamagotchi Preview</title>
  <link rel="stylesheet" href="./assets/palette.css" />
  <link rel="stylesheet" href="./styles.css" />
  <script>window.CM_API_BASE='http://127.0.0.1:5057';</script>
</head>
<body>
  <main class="stage">
    <div class="egg">
      <img class="egg-shell" src="./assets/svg/ui/egg-shell.svg" alt="Egg Shell" />
      <div class="screen">
        <img class="pet" src="./assets/external/imgs/mametchi.webp" alt="Mametchi" />
      </div>
      <div class="hud-outside">
        <div class="stat">
          <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path fill="#6a79a9" d="M4 14c0 3.314 3.134 6 7 6s7-2.686 7-6H4zM18 12c0-3.866-3.134-7-7-7S4 8.134 4 12h14z"/></svg>
          <div class="bar"><div class="fill" id="bar-hunger"></div></div>
        </div>
        <div class="stat">
          <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path fill="#f38aa5" d="M12 21s-6.716-4.717-9-8C1.083 10.083 2 6 6 6c2.083 0 3.5 1.167 4 2 0.5-.833 1.917-2 4-2 4 0 4.917 4.083 3 7-2.284 3.283-9 8-9 8z"/></svg>
          <div class="bar"><div class="fill" id="bar-affection"></div></div>
        </div>
        <div class="stat">
          <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path fill="#8aa4ff" d="M12 2l1.8 4.2L18 8l-4.2 1.8L12 14l-1.8-4.2L6 8l4.2-1.8L12 2zm6 8l1 2.4L22 14l-3 1 1 3-3-1-1 3-1-3-3 1 1-3-3-1 3-1.6L17 10z"/></svg>
          <div class="bar"><div class="fill" id="bar-cleanliness"></div></div>
        </div>
      </div>
      <div class="controls">
        <label class="char-label area-label" for="characterSelect">Character</label>
        <select id="characterSelect" class="char-select area-select" aria-label="character select">
          <option value="mametchi" selected>Mametchi</option>
          <option value="chefPig">Chef Pig</option>
          <option value="budingPig">Pudding Pig</option>
        </select>
        <button class="area-feed" data-action="feed" aria-label="feed">Feed</button>
        <button class="area-play" data-action="play" aria-label="play">Play</button>
        <button class="area-clean" data-action="clean" aria-label="clean">Clean</button>
      </div>
    </div>
  </main>

  <!-- Debug indicator -->
  <button id="debugIndicator" class="debug-indicator debug-disabled" aria-label="API status" title="Backend: disabled">
    <span class="debug-dot"></span>
    <span class="debug-label">API</span>
  </button>

  <!-- Chat Modal -->
  <div id="chatModal" class="modal hidden" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal-backdrop"></div>
    <div class="modal-card" role="document">
      <header class="modal-header">
        <span id="chatTitle">Chat</span>
        <button id="chatClose" aria-label="Close">×</button>
      </header>
      <div id="chatLog" class="modal-log" aria-live="polite"></div>
      <form id="chatForm" class="modal-form">
        <input id="chatInput" type="text" placeholder="Say something..." autocomplete="off" />
        <button type="submit">Send</button>
      </form>
    </div>
  </div>

  <script src="./scripts.js?v=4"></script>
</body>
</html>
